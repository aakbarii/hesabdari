# 🤖 ربات حسابداری شخصی

یک ربات تلگرام ساده و کاربرپسند برای مدیریت تراکنش‌های شخصی.

## ✨ ویژگی‌ها

### 🏦 **مدیریت حساب‌ها**
- 💵 حساب نقدی، بانکی، کارت و پس‌انداز
- 💰 مانده‌گیری خودکار
- 🔄 انتقال بین حساب‌ها

### 📊 **گزارش‌گیری پیشرفته**
- 📅 گزارش ماهانه تفصیلی
- 📈 مقایسه ماه‌های مختلف
- 🏷️ گزارش بر اساس دسته‌بندی
- 💳 گزارش حساب‌ها

### 🎯 **اهداف مالی**
- 💰 تعریف اهداف پس‌انداز
- 📊 پیگیری پیشرفت اهداف
- 🏆 چالش‌های مالی

### 🏷️ **دسته‌بندی هوشمند**
- 🎨 رنگ‌بندی دسته‌ها
- 📊 آمار استفاده
- 🤖 پیشنهاد خودکار

### 📱 **رابط کاربری**
- 🎯 مرحله‌ای و ساده
- 🔄 انتقال آسان
- 📊 گزارش‌های بصری

## 🚀 نصب و راه‌اندازی

### 1. نصب وابستگی‌ها
```bash
npm install
```

### 2. تنظیم متغیرهای محیطی
فایل `.env` را ایجاد کنید و متغیرهای زیر را تنظیم کنید:

```env
TOKEN=your_bot_token_here
CHAT_ID=your_chat_id_here
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/database_name
PORT=3000
```

### 3. اجرای ربات
```bash
npm start
```

## 📱 نحوه استفاده

1. `/start` - شروع بات و نمایش منوی اصلی
2. **➕ افزودن تراکنش** - ثبت تراکنش جدید با مراحل ساده:
   - انتخاب نوع (درآمد/هزینه)
   - وارد کردن عنوان
   - وارد کردن مبلغ
   - وارد کردن توضیحات (اختیاری)
   - وارد کردن دسته‌بندی (اختیاری)
3. **📋 لیست تراکنش‌ها** - نمایش تمام تراکنش‌های ماه جاری
4. **📊 نمودار هزینه‌ها** - نمودار دایره‌ای هزینه‌ها

## 🔧 حل مشکلات

### خطای Polling (409 Conflict)
اگر خطای `409 Conflict` دریافت می‌کنید، یعنی چندین نمونه از بات در حال اجرا است:

1. **بر روی Render**: فقط یک نمونه از بات باید اجرا شود
2. **بر روی کامپیوتر محلی**: اگر بات روی سرور اجرا می‌شود، آن را روی کامپیوتر محلی متوقف کنید
3. **چندین سرور**: فقط یک سرور باید بات را اجرا کند

### راه‌حل:
- اگر بات روی Render اجرا می‌شود، آن را روی کامپیوتر محلی متوقف کنید
- اگر بات روی کامپیوتر محلی اجرا می‌شود، آن را روی Render متوقف کنید

## 📦 وابستگی‌ها

- `node-telegram-bot-api` - کتابخانه ربات تلگرام
- `mongoose` - اتصال به MongoDB
- `moment-jalaali` - کار با تاریخ شمسی
- `express` - وب سرور
- `dotenv` - مدیریت متغیرهای محیطی

## 🎯 ویژگی‌های جدید

- ✅ سیستم مرحله‌ای برای ثبت تراکنش
- ✅ دکمه‌های کاربرپسند
- ✅ نمایش تاریخ شمسی
- ✅ مدیریت خطاهای polling
- ✅ رابط کاربری بهبود یافته
